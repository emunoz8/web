# --- Database ---
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=none
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# Flyway
spring.flyway.enabled=true

# Server / Proxy
server.forward-headers-strategy=native
server.compression.enabled=true

# CORS (set ALLOWED_ORIGINS env to your frontend URL, comma-separated if many)
app.cors.allowed-origins=${ALLOWED_ORIGINS}

# --- Security / JWT ---
jwt.secret=${JWT_SECRET}
jwt.access.ttl-ms=2700000         # 45
jwt.refresh.ttl-ms=604800000      # 7 days
jwt.refresh.inactivity-ms=1800000 # 30 minutes inactivity window

# Refresh token cookie (adjust if youâ€™re cross-site)
app.cookies.refresh.name=refresh_token
app.cookies.refresh.path=/
app.cookies.refresh.same-site=Strict

# Email (verification / reset)
spring.mail.host=${SMTP_HOST}
spring.mail.port=${SMTP_PORT}
spring.mail.username=${SMTP_USERNAME}
spring.mail.password=${SMTP_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# Can be overridden by env var EMAIL_VERIFY_BASE
app.urls.email-verify-base=${EMAIL_VERIFY_BASE:https://api.compilingjava.com/api/auth/confirm-email}



# Actuator (for health checks)
management.endpoints.web.exposure.include=health,info
management.endpoint.health.probes.enabled=true

# Logging (quiet SQL in prod)
logging.level.org.hibernate.SQL=OFF
logging.level.org.springframework.security=INFO
